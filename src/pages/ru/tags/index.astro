---
import { getCollection } from "astro:content";
import BaseLayout from "../../../layouts/BaseLayout.astro";

const postsCollection: "posts" | "postsRu" = "postsRu";
const allPosts = await getCollection(postsCollection);
const tags = [...new Set(allPosts.map((post) => post.data.tags).flat())];
const pageTitle = "Теги";
---

<BaseLayout pageTitle={pageTitle}>
  <div class="mb-8">
    <p class="text-lg md:text-xl max-w-2xl">Исследуйте посты по темам</p>
  </div>
  
  <div class="flex flex-wrap gap-4">
    {tags.map((tag) => (
      <a 
        href={`/ru/tags/${tag}`}
        class="px-6 py-3 font-bold border-4 border-[var(--border)] rounded-lg hover:bg-[var(--accent)] hover:text-[var(--bg)] shadow-[3px_3px_0_0_var(--border)] hover:shadow-[5px_5px_0_0_var(--border)] hover:-translate-x-0.5 hover:-translate-y-0.5 transition-all capitalize"
      >
        {tag}
      </a>
    ))}
  </div>
</BaseLayout>
